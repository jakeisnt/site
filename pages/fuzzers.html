<!DOCTYPE html><html><head><meta charset="UTF-8" /><title>John Regehr talk / pages / Jake Chvatal</title><meta content="width=device-width,initial-scale=1.0" name="viewport" /><meta content="John Regehr talk" property="og:title" /><meta content="website" property="og:type" /><meta content="https://jake.isnt.online" property="og:url" /><meta content="Jake Chvatal" property="og:site_name" /><meta content="hi" name="description" /><meta content="Operating Systems, webring, programming, languages" name="keywords" /><meta content="Jake Chvatal" name="author" /><meta content="index,follow" name="robots" /><meta content="white" media="(prefers-color-scheme: light)" name="theme-color" /><meta content="#111" media="(prefers-color-scheme: dark)" name="theme-color" /><link href="/favicon/apple-touch-icon.png" rel="apple-touch-icon" /><link href="/manifest.json" rel="manifest" /><link href="/resources/style.css" id="/resources/style.css" rel="stylesheet" type="text/css" /><link href="/resources/global.css" id="/resources/global.css" rel="stylesheet" type="text/css" /><script id="/resources/lib.js" src="/resources/lib.js"></script><link href="/resources/elements.css" id="/resources/elements.css" rel="stylesheet" type="text/css" /><script defer="defer" id="/resources/elements.js" src="/resources/elements.js"></script><script defer="defer" id="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/highlight.min.js" src="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/highlight.min.js"></script><script defer="defer" id="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/languages/clojure.min.js" src="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/languages/clojure.min.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/nord.min.css" id="dark-theme-highlight" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-light.min.css" id="light-theme-highlight" rel="stylesheet" /></head><body><span><div class="sidebar"><div class="url-path"><a href="/">jake.</a><a href="https://isnt.online"> ~ </a><span> / </span><a href="./index.html">pages</a><span> / </span><b>John Regehr talk</b></div><span><div class="toggle-dark-mode-container"><button class="toggle-dark-mode"></button></div><script defer="defer" id="/components/toggle-dark-mode/toggle-dark-mode.js" src="/components/toggle-dark-mode/toggle-dark-mode.js"></script><link href="/components/toggle-dark-mode/toggle-dark-mode.css" id="/components/toggle-dark-mode/toggle-dark-mode.css" rel="stylesheet" type="text/css" /></span></div><link href="/components/sidebar/sidebar.css" id="/components/sidebar/sidebar.css" rel="stylesheet" type="text/css" /></span><div class="site-body"><main><article class="wikipage"><div><h1 id="john-regehr-talk">John Regehr talk</h1><h2 id="fuzzer-types">Fuzzer Types</h2><p>generative fuzzers<br />comes up with these things out of nowhere to try test inputs</p><p>mutation fuzzers<br />tweak an existing corpus to develop new examples</p><p>The structure of programs is often very ill-defined and vague. Fuzzingis useful because it allows you to rigorously build a justified sense ofconfidence that your code doesn't suck.</p><h2 id="code-differences">Code Differences</h2><p>what's different about approaching the code?</p><p>for one compiler, the generated code could stack overflow. forces you tobe super tight about catching corner cases earlier in the start ratherthan actually just putting up with them without the fuzzing testing.gets you to dig into these test cases more easily.</p><p>outgrowth of test driven development - it's about being able to defineclasses of test cases you care about and iterate on testing those cases</p><p>you want to look for anything - crashes, things going wrong, etcâ€¦ asyou're writing the code, you embed test oracles (assertions, primarily)within the code to dynamically check this! the weaker the language themore you need.</p><p>property testing and fuzzing are related; property testing is thought ofas fuzzing with more oracles - it allows you to describe the properties,whereas fuzzing is thought of as more 'black box'</p><p>adjusting to languages with fewer guardrails, or type safety; ships theresponsibility to the testing, mostly. this is why gradual typing are soexciting! you can shift towards a fully typed environment and ensurethat you add the types later, saving you a <em>ton</em> of the trouble oftesting.</p><p>don't invest a lot of work into generating test cases if you alreadyhave a super rich corpus of text to have your fuzzer draw from</p><p>c had lots of undefined behavior, so a very strong property had to beenforced on the test code by csmith to ensure that the code generatedwas from a defined subset of the c specification.</p><p>need to impose structure on the testing - valid c++ is one of the mostdifficult file formats.generators are so hard to write for not muchbenefit!</p><p>what should be fuzzed? what doesn't matter? ideal workflow with fuzzinginvolved</p><ul><li>project started from scratch write genreators as you write the code.okay to throw away them if they aren't scalable, continue to iterate</li><li>project you pick up: heavily depends on use case obviously</li></ul><p>don't fuzz if your code doesn't yet have the maturity to do it!</p><p>fuzzing is just weak verificatio: it's a weak quantifier over allpossible inputs in the space of inputs. it's one of hte closest ways wecan get to formal verification without the effort to do it! most thingsare mostly wrong and you need to fuzz them before proving them correct!only after fuzzing does verification make any sense. always fuzz withassertions, too, now have a decent specification for the system alreadyafter doing this fuzzing campaign!</p><p>almost everything he does is about <u>people</u> and making thingsbetter for people! great programming language trend towardsinteractivity and ways to work with you the way you want to work incode!</p><p>Insight that makes creduce works across languages - alcohol and lisp?shared syntax of block structure language - understands all of thebraces at some rudimentary level. has tokenizatio npass based on ctokenizer, but it works half decently for other things?</p><p>creduce:</p><ul><li>smtlib files? works fine . there is another smtlib reducer. creduce ispluggable and modular, plugs in a lot of reduction passes. could hackit to delete a bunch of passes from c and replace them with other onesas needed. can't work super well with other things, as it tries tolabel everything with ssa values - very hard coded for algol, lisp orsimilar.</li><li>JITs?</li><li><p>what keeps us from doing automated testing in industry today? why doyou think people aren't using it more?</p><p>focus fuzzing on hot paths and common paths rather than all of thepaths. bad things: not prioritizing bugs, not being able to focus onthings that fuzzers care about. fuzzers can be <em>dynamic</em> - peopledon't necessarily want static checking!</p></li></ul><p>DSL to specify what you care about - take advantage of what you careabout in testing! in general this is an incredible view on this program</p><p>best advice for producing qulaity software, in general: use modernlanguages, test rigorously, write proper fuzzer generators</p><h1 id="resources">Resources</h1><p>Delta debugging was mentioned as an interesting tactic to use. What isit? <a href="https://ocaml.org/manual/afl-fuzz.html">AFL-Fuzz</a> :: a fuzzerwritten in OCaml <a href="https://github.com/minimaxir/big-list-of-naughty-strings">Big list of naughtystrings</a>:Useful utilities for fuzzing. <a href="https://www.fuzzingbook.org/html/Grammars.html">Fuzzing with Grammars - The FuzzingBook</a><a href="https://embed.cs.utah.edu/csmith/">Csmith</a>: Generate random C programsthat satisfy the C99 standard. <a href="https://github.com/csmith-project/creduce">GitHub - csmith-project/creduce:C-Reduce, a C programreducer</a>: Take a largeprogram with an interesting property and reproduce a minimal test casefor it. <a href="https://gamozolabs.github.io/fuzzing/2020/12/06/fuzzos.html">FuzzOS \| Gamozo LabsBlog</a>: Anoperating system designed and optimised specifically for fuzzing - sovirtual memory management are incredibly fast.</p></div></article></main><div class="article-rhs-container"><div class="article-rhs"><span><div class="sitemap-container"><span class="sitemap-title">In this article</span><table class="sitemap"><tr><td id="page-map-john-regehr-talk"><a href="/pages/fuzzers.html#john-regehr-talk">john-regehr-talk</a></td></tr><tr><td id="page-map-fuzzer-types"><a href="/pages/fuzzers.html#fuzzer-types">fuzzer-types</a></td></tr><tr><td id="page-map-code-differences"><a href="/pages/fuzzers.html#code-differences">code-differences</a></td></tr><tr><td id="page-map-resources"><a href="/pages/fuzzers.html#resources">resources</a></td></tr></table></div></span><span><div class="git-history-table-container"><span class="git-history-table-title">Revisions</span><table class="git-history-table"><tr><th>Date</th><th>Hash</th></tr><tbody><tr><td class="commit-date-tr">2023-02-22</td><td class="commit-link-tr"><a href="https://github.com/jakeisnt/wiki/blob/ea5044fc387f17e24dcab6f3873a541cd640bfa1//fuzzers.md">ea5044fc</a></td></tr></tbody></table></div></span><span><div class="prev-next-up-buttons-container">Navigation<table class="prev-next-up-buttons"><tr><td>Previous</td><td><a class="prev-button" href="/pages/homelab.html">homelab</a></td></tr><tr><td>Next</td><td><a class="next-button" href="/pages/favorites.html">favorites</a></td></tr><tr><td>Up</td><td><a class="up-button" href="/pages">pages</a></td></tr></table></div></span></div></div></div></body></html>